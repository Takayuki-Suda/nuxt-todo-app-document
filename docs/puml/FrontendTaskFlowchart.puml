@startuml 
skinparam monochrome false
skinparam shadowing false
skinparam roundcorner 20

start
:ユーザーがタスクを入力;
if (入力が空？) then (yes)
  :エラーメッセージを表示;
  stop
else (no)
  :タスク追加;
  :ローカルストレージに保存;
  :UI更新 (タスク追加);
  :成功メッセージを表示;
endif

:タスクを表示;
if (タスクが存在しない？) then (yes)
  :エラーメッセージを表示;
else (no)
  :タスクリストを表示;
endif

:タスクを編集;
if (編集内容が有効？) then (yes)
  :ローカルストレージを更新;
  :UI更新 (タスク編集);
  :成功メッセージを表示;
else (no)
  :エラーメッセージを表示;
endif

:タスクを削除;
:ローカルストレージから削除;
:UI更新 (タスク削除);
:成功メッセージを表示;

:タスクを完了に更新;
:ローカルストレージを更新;
:UI更新 (タスク完了);
:成功メッセージを表示;

:期限順に並べ替え;
:タスクリストを更新;
:UI更新 (並べ替え);
:成功メッセージを表示;

:期限日でタスク取得;
:ローカルストレージから取得;
if (タスクが見つかる？) then (yes)
  :UI更新 (タスク取得);
  :成功メッセージを表示;
else (no)
  :エラーメッセージを表示;
endif

:完了したタスクをすべて削除;
:ローカルストレージから削除;
:UI更新 (完了タスク削除);
:成功メッセージを表示;

stop
@enduml
